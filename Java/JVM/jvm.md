# jvm

## 虚拟机生命周期

加载、验证、准备、解析、初始化、使用、卸载

验证、准备、解析这三个阶段统称连接

加载、验证、准备、初始化、卸载这5个阶段的顺序是确定的，解析阶段可以在初始化阶段之后开始


### 需要进行初始化的情况

这6中会触发初始化的引用称为主动引用，其他引用称为被动引用

1. 遇到字节码指令new、getstatic、putstatic、invokestatic
   * 使用new实例化对象
   * 读取或设置静态字段
   * 调用静态方法
2. 反射调用方法
3. 初始化子类时父类没初始化，需要初始化父类
4. 虚拟机启动时初始化主类
5. MethodHandle（待学习）
6. 实现了默认方法的接口的实现类发生了初始化，需要初始化接口


### 被动引用

1. 通过子类引用父类定义的静态字段
2. 通过数组定义引用类
3. 引用类的常量


### 接口初始化和类初始化的区别

初始化子接口不会初始化父接口

问题：如何验证接口有没有初始化？

## jvm参数

### xss

## 栈帧

### slot可以重复利用，slot上的变量超出了作用域slot就被回收

### 局部变量使用前必须被初始化，因为slot可能重用，不初始化可能用到旧值

watch com.zwcad.common.core.utils.cache.CacheUtils getCache "{params, returnObj, target}" -x 3