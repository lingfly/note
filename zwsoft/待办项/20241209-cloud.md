统一资源管理方案评审会议记录
1. 采用简化的方案，不需要有配置表的管理接口 
2. 压测情况下引用计数过高：加锁应该是由c++实例进程操作，不会存在实例数和引用计数不对等的情况
3. c++实例进程崩溃由守护进程监听并释放对应文档的锁，如果守护进程也崩溃，则由锁的过期时间释放，读锁默认5分钟，写锁默认15分钟，如果有需要可以加一个延长时间的接口
4. c++读写文件时可能不知道具体的操作名，不再在redis记录具体操作名
5. 服务重启应该清除所有文档的锁
6. c++需要引入rpc调用java，可能需要考虑工作量的问题



## 协同编辑异常处理 

1. 群里讨论的顺序是为了解决什么问题
2. c++实例进程崩溃后图纸数据库的数据还在不在？


队列名和文档和实例队列绑定


讨论结果
1. 一般异常c++服务能够通过返回值告知java服务，java通知前端编辑异常，前端具体的异常表现可以根据需求定
2. c++服务崩溃会导致图纸数据库丢失，所以崩溃后数据无法恢复，只能退出协同编辑
3. 如果需要有超时机制，比较倾向于c++服务超时后返回超时异常
4. java服务也设置调用超时时间，用于处理c++实例进程和守护进程都崩溃的情况
5. 协同数据保存到临时文件时的异常，逐次尝试丢弃最后一次编辑的数据再保存到临时文件（可行性待验证）
6. 临时文件覆盖源文件时崩溃应该通过 DWG统一资源管理 规避
7. 方案细化各个操作发生异常时具体要做的处理（处理缓存，通知前端等等）


## 20250108 问题

1. 分片序号报文解析不对
2. 向用户发送保存过程产生的编辑数据使用haseSet，顺序得不到保证
3. synergy:edit:save:document取消当前文档正在保存
4. 未发送给用户的消息，只缓存了dataId，没有缓存消息内容

## 200117 pgsql会议记录

1. mybatis datasourceId 实现多套sql兼容
2. 表结构
3. 数据库字段默认值
4. 自动更新
5. 