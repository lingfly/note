# writeConcern

writeConcern有三个级别可供选择，分别是"w"、"wtimeout"和"j"：

1. "w"参数用于指定写操作需要写入到多少个副本才算成功。默认值为"1"，表示只需要写入到主节点即可。如果将"w"参数设置为"majority"，则表示写入到大多数节点才算成功。此外，还可以将"w"参数设置为一个数字，表示需要写入到指定数量的节点才算成功。例如，将"w"参数设置为"3"表示需要写入到三个节点才算成功。

2. "wtimeout"参数用于指定写操作的超时时间。默认值为0，表示不进行超时等待。如果写操作在超时时间内没有完成，则会返回一个超时错误。该参数的单位是毫秒。

3. "j"参数用于指定写操作需要被持久化到磁盘上。默认值为false，表示写操作可以被暂时缓存到内存中。如果将"j"参数设置为true，则表示写操作必须被写入到磁盘中才算成功。

```js
db.myCollection.insertOne(
   { "name": "John", "age": 30 },
   { "writeConcern": { "w": "majority", "wtimeout": 5000, "j": true } }
)
```

